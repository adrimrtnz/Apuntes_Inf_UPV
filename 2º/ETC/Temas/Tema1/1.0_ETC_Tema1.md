# Tema 1: El procesador

## Introducción
Todo procesador se define de acuerdo a una **arquitectura**. Esta hace referencia al repertorio de instrucciones (ISA: Instruction Set Architecture), registros, modelo de excepciones, manejo de la memoria virtual, mapa de direcciones físicas y otras caracterísitcas comunes del procesador.

Todo aquello que el programador debe saber acerca de la máquina. Es, básicamente, todo aquello que el procesador puede hacer.

Arquitectura | Empresa
-------------|---------
x866, x86-64, IA-32, INTEL64 | INTEL, AMD
MIPS-32, MIPS-64 | Mips Technologies

La **Implementación** hace referencia a las características concretas de los circuitos que conforman el diseño de un procesador concreto que ejecuta una arquitectura. También se denomina **Microarquitectura**.

Arquitectura | Microarquitectura | Modelos | Fabricantes
-------------|-------------------|---------|------------
MIPS | MIPS32; MIPS64, Warrior | R2000, R3000, InterAptiv | MIPS Tech. Imagination Tech.

## Arquitectura MIPS32
MIPS: **M**icroprocesor without **I**nterlocked **P**ipeline **S**tages.
* Procesador RISC (Reduced Instruction Set) desarrollado en la Universidad de Stanford por John L. Hennessy que emplea la técnica de segmentación.
* El diseño segmentado del MIPS es el precursor de la mayoría de los procesadores RISC posteriores.

### Implementaciones del MIPS

> Sección más histórica, mirar diapositivas.

#### Definiciones
* IP-core:
* Embedded System:
* SoC: 

### Características Básicas
* Máquina RISC.
* Ancho de palabra y tamaño de buses de 32 bits.
* Principales tamaño de datos en las instrucciones:
    * Byte(B), halfword(H), word(W).
* Aquitectura de carga/almacenamiento:
    * Instrucciones específicas de lectura (carga) y escritura (almacenamiento) en memoria.
    * Todos los operandos de una intrucción aritmética se cargan inicialmente en registros, o están en la propia instrucción (constante).
    * Instrucciones aritméticas con 3 operandos de 32 bits en registros.
* Modos de funcionamiento: usuario, núcleo (kernel) y depuración.

El registro PC (Program Counter) no pertenece a la arquitectura pero se utilizan en la CPU. PC apunta a la instrucción a buscar en memoria para su ejecución. El PC no es visible al programador, pero es modificado por ciertas instrucciones de forma indirecta.

### Modelos de programación

### Registros

### Memoria
Directivas de ensamblador:
* Directivas de segmentos de memoria:
    * `.data [direccion]`
    * `.text [direccion]`
    * `.end`
* Directivas de reserva de memoria de datos:
    * `.space n`
    * `.byte b1 [, b2] ... `
    * `.half b1 [, b2] ... `
    * `.word b1 [, b2] ... `
    * `.ascii cadena1 [, cadena2] ...`
    * `.asciiz cadena1 [, cadena2] ...`
* Direccionamiento:
    * Direccionamiento a nivel de byte.
    Modo big-endian y little-endian soportados.
* Alineamiento:
    * Byte en cualquier dirección.
    * Media palabra (half) en dirección par.
    * Palabra (word) en dirección múltiplo de 4.
* Directiva:
    * `.align N`
    * Alinea a partir de la siguiente instrucción múltiplo de 2N.

### Instrucciones
> Ver transparencias

Sintaxis y codificación
* Meter las URL