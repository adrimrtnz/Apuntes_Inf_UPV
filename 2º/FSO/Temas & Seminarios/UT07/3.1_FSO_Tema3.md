# Tema 3: Gestión de Archivos

## 7. Implementación de Archivos o Ficheros

### Arquitectura del sistema de archivos

Concepto de archivo:

* Dato
* Atributos

Tipos de acceso:

* Secuencial
* Directo
* Mapeado en memoria

Método de asignación Bloque:

* Contigua
* Enlazada
* Indexada

La estructura del sistema de archivos tiene tres aspectos:

1. La forma en que están **organizados los archivos** desde el punto de vista del usuario.
2. La forma en que se **almacenan los archivos** en el sistema de almacenamiento secundario (normalmente el disco).
3. La forma en que se **manipulan los archivos**. Es decir, cómo se realiza la lectura, escritura, etc.

El Sistema Operativo abstrae las propiedades físicas del sistema de almacenamiento y proporciona una visión uniforme de los dispositivos de almacenamiento.

Si recordamos de las primeras clases, se dijo que el archivo en sí no existe, es el sistema operativo, el que implementa la abstracción necesaria para trabajar con lo que denominamos archivos, que son para la máquina, básicamente, sólo un bloque de memoria, una sucesión de Bytes.

**Ejercicio**:

| Una partición de 32MB, de los cuales 2MB están ocupados con estructuras propias del sistema de archivos que está organizada en bloques de 512B, el puntero a bloque es de 32b. Calcule: |
| :----------------------------------------------------------: |
| **A) Tamaño máximo de un archivo si se utiliza la asignación indexada simple, con un solo bloque de índices por archivo** |
| $\frac{2MBytes}{512 Bytes}=\frac{2^12^{20}}{2^9}=2^{12}=4\times 1024=\boxed{4096\text{ Bloques}}$ |
| **B) Tamaño máximo de un archivo si se utiliza asignación enlazada (32bits = 4Bytes)** |
| $$\frac{512Bytes}{4Bytes}=\frac{2^9}{2^2}=2^7=\boxed{\text{128 punteros / Bloque}}= \\=128\times512Bytes=2^{16}=\boxed{64KBytes}$$ |

